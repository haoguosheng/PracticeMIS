<html>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
    <title> Hello,2006</title>
    <body background=../../bg.bmp>
        <section style="border: solid red">
            日期的比较
            select *  from news where date(inputdate)>date( '2013-5-30');<br/>
            alter TABLE "HGS"."HOMEWORK" alter   ISSELECTED  default '0';<br>
            alter table stuHomework add constraint PK_StuHomework primary key(stuNo);<br>
            建立外键alter table myuser add constraint FK_organizors foreign key (organizeeid) references organizors(id)<br>
            建立自动编号字段<br>
            CREATE TABLE tablename   <br>
            (
            ID INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1).....<br>
            <a href=#sqlstate>出现的错误：“SQLSTATE: XSDB4   Page ,Container”这一类型的错误解决办法</a><br/>
            <a href=#sqlstate>出现的错误：“错误 XJ040：DERBY SQL error: SQLCODE: -1, SQLSTATE: XJ040, SQLERRMC: 无法使用类
                加载器 sun.misc.Launcher$AppClassLoader@1bd7848 启动数据库 'paperNote'，请参阅下
                一个异常，以了解详细信息。::SQLSTATE: 40XD2无法打开容器 Container(0, 1872)；该容
                器被删除或不存在。”</a><br/>
        </section>
        <table width="90%" cellpadding="1" cellspacing="4" border="1" align="center">
            <tr>
                <td>
                    <a href="#chk4Exist">检验一个表是否存在</a>
                    <a href=files/Keywords.html>Derby的关键字</a><br>
                    <a href=http://www.ibm.com/developerworks/cn/opensource/os-ad-trifecta3/>IBM的derby教程</a><br>
                    <a href=files/DerbyEmbed.html>Derby嵌入式代码</a><br>
                    <a href=files/GetData.html>从数据库中取代码出来</a><br>
                    <a href=files/Derby_entry.html>Derby入门</a><BR>
                    <a href=files/derby-demo.html>Netbeans示范Derby</a><BR>
                    <a href=files/SJSAS_Derby.html>Derby-in-Sun java System application server</a><BR>
                    <a href=files/Derby_FAQ.html>Derby_FAQ</a><BR>
                    <a href=Derby>Derby的帮助文档全在这里了:内容包括SQL命令参考，Derby性能调试，Derby关键字等等等！</a>
                </td>
            </tr>
            <tr><td>
                    在ij模式下，利用自己设定的用户名和密码(而不是默认的app,app,)用于连接数据库：connect 'jdbc:derby:PaperNoteData;user=admin;password=adminadmin';<BR>
                </td></tr>
            <tr>
                <td>
                    无法从其它机器访问已安装derby的数据库，connect 'jdbc:derby://202.195.66.124:1527/paperNote;create=true;'不能实现；从程序中用URL也不能实现。<br>
                    Answer:You can specify a different host or port number when you start the Network Server by specifying an option to the command.
                    <br>Specify a specific interface (host name or IP address) to listen on other than the default (localhost) by using the -h option, as shown in the following example:
                    <br>$DERBY_HOME/bin/startNetworkServer -h myhost -p 1368
                    <br>where myhost is the host name or IP address.
                    <br>Remember: Before using the -h option, you should run under the Java security manager with a you  customized security policy and should enable user authentication.
                    By default, the Network Server will listen to requests only on the loopback address, which means that it will only accept connections from the local host.
                    <br>
                    <textarea rows=2 cols=80>
在服务器端,启动derby:networkservercontrol start -h 202.195.66.126;
在客户湍（甚至在本地机器上，都可以用，而不是127.0.0.1），调用：ij> connect 'jdbc:derby://202.195.66.126:1527/test3;user=hgs;password=hgs;create=true';
                    </textarea>
                </td>
            </tr>
            <tr><td>如何在命令行下查看一个表的结构？<br>Answer:首先connect到相应的数据库；然后用“describe 表名”即可查看。</td></tr>
            <tr><td>当在cmd中连接到数据库与应用程序使用数据库同时对某一表进行操作时，应用程序中的SQL命令执行会被无条件放慢，方法：关闭cmd方式</td></tr>
            <tr><td></td></tr>
            <tr><td></td></tr>
        </table>
        <hr id="chk4Exist">
        检验一个表是否存在<br>
        <textarea rows=10 cols=80>
   public static boolean wwdChk4Table (Connection conTst ) throws SQLException {
      boolean chk = true;
      boolean doCreate = false;
      try {
         Statement s = conTst.createStatement();
         s.execute("update WISH_LIST set ENTRY_DATE = CURRENT_TIMESTAMP, WISH_ITEM = 'TEST ENTRY' where 1=3");
      }  catch (SQLException sqle) {
         String theError = (sqle).getSQLState();
         if (theError.equals("42X05"))   // Table does not exist
         {  return false;
          }  else if (theError.equals("42X14") || theError.equals("42821"))  {
             System.out.println("WwdChk4Table: Incorrect table definition. Drop table WISH_LIST and rerun this program");
             throw sqle;   
          } else { 
             System.out.println("WwdChk4Table: Unhandled SQLException" );
             throw sqle; 
          }
      }
      return true;
        </textarea>
        <hr id=sqlstate>
        我尝试的一个解决办法：
        <ol type=1>
            <li>在别的位置启动startnetworkserver;</li>
            <li>ij</li>
            <li>在ij中新建一个与原数据库名同名的数据库</li>
            <li>关闭ij，关闭startnetworkserver</li>
            <li>拷贝原数据库seg0和log下的内容到新数据库的对应目录下</li>
            <li>如果log下的存在除了log1.dat的logi.dat存在，则把logi.dat重命名（如果只存在一个这样的文件）或删除（存在多个这样的文件，我的是8，SQLSTATE: 40XD2对应的是1）；
            <li>重启startnetworkserver和ij</li>
            <li>看看是不是搞定了！</li>

        </ol>
    </body>
</html>